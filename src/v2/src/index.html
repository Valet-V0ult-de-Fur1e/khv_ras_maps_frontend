<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/styles.css">
    <title>ГИС</title>
</head>
<body>
    <nav class="sidebar">
        <!-- --------- ГЛАВНАЯ СЕКЦИЯ Л.НАВИГАЦИИ ---------- -->
        <section id="initial-section" class="sidebar__initial-section">
            <div class="sidebar__main-info">
                <div class="sidebar__user-data">
                    <img src="icons/profile-circle-svgrepo-com.svg" alt="" class="icon-profile">
                    <div class="sidebar__user-data__status">
                        <p style="font-weight: bold;">Пользователь: Иван</p>
                        <p style="font-size: 12pt;">Статус: Админ</p>
                    </div>
                </div>
                <a href="#" class="sidebar__bnt-exit">
                    <img src="icons/exit-svgrepo-com.svg" alt="" class="icon-svg">
                </a>
            </div><hr>
            <div class="sidebar__operations">
                <button class="styled-btn btn-filter" onclick="showFilterSection()">
                    <div class="circle filter-circle">
                        <img src="icons/filter-1-svgrepo-com.svg" alt="" class="icon-svg">
                    </div>
                    <span>Фильтр</span>
                </button>
                <button class="styled-btn btn-export">
                    <div class="circle">
                        <img src="icons/export-svgrepo-com.svg" alt="" class="icon-svg">
                    </div>
                    <span>Экспорт</span>
                </button>
                <button class="styled-btn btn-import">
                    <div class="circle">
                        <img src="icons/import-svgrepo-com.svg" alt="" class="icon-svg">
                    </div>
                    <span>Импорт</span>
                </button>
            </div>            
        </section>
        <!-- ------- СЕКЦИЯ ФИЛЬТРАЦИИ Л.НАВИГАЦИИ -------- -->
        <section class="sidebar__filters" id="filter-section" style="display: none;">
            <div class="sidebar__top-section">
                <button class="sidebar__btn-back" onclick="showInitialSection()">
                    <img src="icons/back-svgrepo-com.svg" alt="" class="icon-svg back-icon">
                </button>
                <p>Фильтрация</p>
            </div>
            <div class="sidebar__filter-block">
                <p>Год:</p>
                <div class="input-group sidebar__combobox-year">
                    <select class="form-select">
                      <option selected>Выбрать...</option>
                      <option value="1">2021</option>
                      <option value="2">2022</option>
                      <option value="3">2023</option>
                    </select>
                </div>
            </div>
            <div class="sidebar__filter-block">
                <p>Культура:</p>
                <div class="input-group sidebar__combobox-culture">
                    <select class="form-select">
                      <option selected>Все</option>
                      <option value="1">Кукуруза</option>
                      <option value="2">Овёс</option>
                      <option value="3">Капуста</option>
                    </select>
                </div>
            </div>
            <button class="classic-btn sidebar__btn-filter">Показать</button>
        </section>
        <!-- ----- СЕКЦИЯ ОПЕРАЦИЙ С ПОЛИГОНОМ Л.НАВИГАЦИИ ------- -->
        <section class="sidebar__poligon-operations" id="poligon-operations-section" style="display: none;">
            <div class="sidebar__top-section">
                <button class="sidebar__btn-back" onclick="showInitialSection()">
                    <img src="icons/back-svgrepo-com.svg" alt="" class="icon-svg back-icon">
                </button>
                <p>Операции с полигоном</p>
            </div>
            <button class="classic-btn btn-unloading-field" data-bs-toggle="modal" data-bs-target="#csvModal">Выгрузка файла csv по полю</button>
            <button class="classic-btn btn-display-ndvi">Отобразить NDVI</button>
            <button class="classic-btn btn-several-polygons" onclick="showSelectingPolygonsSection()">Выбрать несколько полигонов</button>
            <button class="classic-btn btn-edit-polygon" onclick="showEditingFieldSection()">Редактировать</button>
        </section>
        <!-- ----- ПОКА ПУСТАЯ СЕКЦИЯ NDVI Л.НАВИГАЦИИ ------- -->
        <section class="sidebar__emptiness" id="emptiness-section" style="display: none;">
            <div class="sidebar__top-section">
                <button class="sidebar__btn-back" onclick="showInitialSection()">
                    <img src="icons/back-svgrepo-com.svg" alt="" class="icon-svg back-icon">
                </button>
                <p>Значения NDVI</p>
            </div>
        </section>
        <!-- ----- СЕКЦИЯ РАБОТЫ С ПОЛИГОНОМ Л.НАВИГАЦИИ ------ -->
        <section class="sidebar__selecting-polygons" id="selecting-polygons" style="display: none;">
            <div class="sidebar__top-section">
                <button class="sidebar__btn-back" onclick="showInitialSection()">
                    <img src="icons/back-svgrepo-com.svg" alt="" class="icon-svg back-icon">
                </button>
                <p>Выбор полигона</p>
            </div>
            <button class="classic-btn btn-confirmation-polygon-selection">Добавить в список выбранных</button>
            <button class="classic-btn btn-cancel-polygon-selection">Отмена</button>
        </section>
        <!-- ----- СЕКЦИЯ ИЗМЕНЕНИЯ ДАННЫХ В БД ДЛЯ ПОЛЯ Л.НАВИГАЦИИ ----- -->
        <section class="sidebar__editing-field" id="editing-field" style="display: none;">
            <div class="sidebar__top-section">
                <button class="sidebar__btn-back" onclick="showInitialSection()">
                    <img src="icons/back-svgrepo-com.svg" alt="" class="icon-svg back-icon">
                </button>
                <p>Редактирование информации о поле</p>
            </div>
            <div class="sidebar__block-edit-data">
                <label class="form-label">Номер реестра поля:</label>
                <input type="text" class="form-control" placeholder="Номер реестра">
            </div>
            <div class="sidebar__block-edit-data">
                <label class="form-label">Фактическая культура:</label>
                <input type="text" class="form-control" placeholder="Культура">
            </div>
            <div class="sidebar__buttons-block">
                <button class="classic-btn btn-save-field-data">Сохранить изменения</button>
                <button class="classic-btn btn-cancel-field-data">Отмена</button>
            </div>
        </section>
    </nav>
<!-- --- ОСТАЛЬНАЯ ПРАВАЯ ЧАСТЬ ----- -->
    <div class="main-div" id="main-div">
        <!-- ---- ШАПКА С ВКЛАДКАМИ ---- -->
        <header>
            <nav class="top-navbar" id="tab-container">
                <div class="tab-btn active" onclick="showMap('map1')" id="tab-map1">
                    <span>Карта 1</span>
                    <button class="btn-close" onclick="closeTab(event, 'map1')">✖</button>
                </div>
                <div class="tab-btn" onclick="showMap('map2')" id="tab-map2">
                    <span>Карта 2</span>
                    <button class="btn-close" onclick="closeTab(event, 'map2')">✖</button>
                </div>
                <div class="tab-btn" onclick="showMap('map3')" id="tab-map3">
                    <span>Карта 3</span>
                    <button class="btn-close" onclick="closeTab(event, 'map3')">✖</button>
                </div>
            </nav>
        </header>
        <!-- ---- ОСНОВНАЯ ЧАСТЬ --- -->
        <main>
            <!-- ---- ЧАСТЬ С КАРТАМИ --- -->
            <div class="map-container">
                <div id="map1" class="map active">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d21169.443481682752!2d135.1010203!3d48.45306744999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sru!2sru!4v1721331234973!5m2!1sru!2sru" width="1920" height="964" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
                <div id="map2" class="map">
                    <iframe src="https://www.openstreetmap.org/export/embed.html?bbox=135.08280181884766%2C48.44615868845394%2C135.11981201171875%2C48.4605712650451&amp;layer=mapnik" width="1920" height="964" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
                <div id="map3" class="map">
                    <img src="img/1705959280_priroda-club-p-shchenki-labradora-pinterest-44.jpg" alt="">
                </div>
            </div>
            <!-- ---- КНОПОЧКА СКРЫВАЮЩАЯ БЛОК С ГРАФИКОМ NDVI --- -->
            <div id="ndviToggleBtn" class="ndvi-toggle-btn" onclick="toggleNdviMenu()">
                Подробнее про NDVI
            </div>
            
            <!-- --- БЛОК ДЛЯ ГРАФИКА NDVI И ЛЕГЕНДЫ ---- -->
            <div id="ndviMenu" class="ndvi-menu">
                <div class="ndvi-header">
                    <h5>Информация о NDVI</h5>
                    <button class="btn-close" onclick="toggleNdviMenu()">✖</button>
                </div>
                <div class="ndvi-content">
                    <!-- --- МЕСТО ПОД ГРАФИК (пока изображение) -->
                    <div class="ndvi-menu__block-graph"><img src="img/123.png" alt=""></div>
                    <!-- ---- ЛЕГЕНДА --- -->
                    <div class="ndvi-menu__color-legend">
                        <p>Условные обозначения</p>
                        <div class="color-legend-item">
                            <div class="color-block" style="background-color: #fbb714;"></div>
                            <span class="color-label">соя</span>
                        </div>
                        <div class="color-legend-item">
                            <div class="color-block" style="background-color: #00bfb8;"></div>
                            <span class="color-label">овес</span>
                        </div>
                        <div class="color-legend-item">
                            <div class="color-block" style="background-color: #1b3e07;"></div>
                            <span class="color-label">многолетние травы</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <!-- ----- МОДАЛЬНОЕ ОКНО ----- -->
    <div class="modal fade" id="csvModal" tabindex="-1" aria-labelledby="csvModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="csvModalLabel"  data-bs-toggle="modal" data-bs-target="#csvModal">Предпросмотр таблицы атрибутов</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <div class="table-responsive">
                <table class="table table-striped">
                    <thead>
                      <tr>
                        <th scope="col">Колонка 1</th>
                        <th scope="col">Колонка 2</th>
                        <th scope="col">Колонка 3</th>
                        <th scope="col">Колонка 4</th>
                        <th scope="col">Колонка 5</th>
                      </tr>
                    </thead>
                    <tbody>
                        <tr>
                          <td>Данные 1</td>
                          <td>Данные 2</td>
                          <td>Данные 3</td>
                          <td>Данные 4</td>
                          <td>Данные 5</td>
                        </tr>
                    </tbody>
                  </table>
              </div>
              
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary btn-close-modal" data-bs-dismiss="modal">Закрыть</button>
              <button type="button" class="btn btn-primary btn-start-upload-polygon">Выгрузить</button>
            </div>
          </div>
        </div>
      </div>
    
    <script src="js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
